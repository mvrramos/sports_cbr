<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mercado Pago Payment</title>
    <script src="https://sdk.mercadopago.com/js/v2"></script>
</head>
<body>
    <h1>Checkout Mercado Pago</h1>
    <form id="form-checkout">
        <input type="text" id="cardNumber" placeholder="Número do Cartão">
        <input type="text" id="expirationDate" placeholder="MM/AA">
        <input type="text" id="securityCode" placeholder="Código de Segurança">
        <input type="text" id="cardholderName" placeholder="Nome no Cartão">
        <input type="text" id="cardholderEmail" placeholder="Email">
        <button type="submit" id="submit-button">Pagar</button>
    </form>

    <script>
        const mp = new MercadoPago('TEST-0d039360-dee6-45ea-bd08-b3dd9dc53e5c'); 

        const cardForm = mp.cardForm({
            amount: "100.00", // Valor da compra
            autoMount: true,
            form: {
                id: "form-checkout",
                cardholderName: {
                    id: "cardholderName",
                    placeholder: "Titular do cartão"
                },
                cardholderEmail: {
                    id: "cardholderEmail",
                    placeholder: "E-mail"
                },
                cardNumber: {
                    id: "cardNumber",
                    placeholder: "Número do cartão"
                },
                expirationDate: {
                    id: "expirationDate",
                    placeholder: "MM/AA"
                },
                securityCode: {
                    id: "securityCode",
                    placeholder: "Código de segurança"
                },
            },
            callbacks: {
                onFormMounted: error => {
                    if (error) return console.warn("Erro ao montar formulário: ", error);
                    console.log("Formulário montado com sucesso");
                },
                onSubmit: event => {
                    event.preventDefault();
                    const cardData = cardForm.getCardFormData();
                    console.log(cardData); 
                },
                onFetching: resource => {
                    console.log("Processando pagamento...");
                }
            }
        });
    </script>
</body>
</html>
